// Initial missions data for the game
import type { Mission } from "../types/missions";

export const initialMissions: Mission[] = [
  {
    id: "tutorial-1",
    name: "First Steps",
    description: "Complete your first magical transformation and learn the basics of being a magical girl.",
    type: "Tutorial",
    category: "Training",
    difficulty: "Tutorial",
    requirements: [],
    objectives: [
      {
        id: "transform-1",
        name: "Perform your first transformation",
        description: "Transform into your magical girl form",
        type: "special",
        target: { type: "condition", name: "transformation" },
        condition: { type: "simple", rules: [] },
        progress: 0,
        maxProgress: 1,
        isCompleted: false,
        isOptional: false,
        isHidden: false,
      },
    ],
    rewards: [
      {
        type: "experience",
        item: "experience",
        quantity: 50,
        guaranteed: true,
        probability: 100,
      },
      {
        type: "sparkles",
        item: "sparkles",
        quantity: 25,
        guaranteed: true,
        probability: 100,
      },
    ],
    penalties: [],
    location: {
      id: "school",
      name: "School",
      description: "Your everyday school where magical adventures begin",
      type: "School",
      environment: {
        weather: "Clear",
        timeOfDay: "Morning",
        lighting: "Bright",
        temperature: "Mild",
        visibility: "Clear",
        magicalIntensity: 20,
      },
      hazards: [],
      features: [],
      background: "school-bg.jpg",
    },
    story: {
      prologue: {
        id: "tutorial-intro",
        title: "A New Beginning",
        text: "Today is the day you discover your magical powers...",
        dialogue: [],
        choices: [],
        conditions: [],
        effects: [],
        media: undefined,
      },
      chapters: [],
      epilogue: undefined,
      branches: [],
      characters: [],
    },
    isUnlocked: true,
    isCompleted: false,
    isAvailable: true,
    attempts: 0,
    tags: ["tutorial", "beginner", "story"],
  },
  {
    id: "daily-1",
    name: "Morning Patrol",
    description: "Patrol the school grounds and ensure everything is peaceful.",
    type: "Daily",
    category: "Protection",
    difficulty: "Easy",
    requirements: [],
    objectives: [
      {
        id: "patrol-1",
        name: "Complete patrol route",
        description: "Walk around the school perimeter",
        type: "reach",
        target: { type: "location", name: "school perimeter" },
        condition: { type: "simple", rules: [] },
        progress: 0,
        maxProgress: 1,
        isCompleted: false,
        isOptional: false,
        isHidden: false,
      },
    ],
    rewards: [
      {
        type: "experience",
        item: "experience",
        quantity: 30,
        guaranteed: true,
        probability: 100,
      },
      {
        type: "sparkles",
        item: "sparkles",
        quantity: 15,
        guaranteed: true,
        probability: 100,
      },
    ],
    penalties: [],
    timeLimit: 1800, // 30 minutes
    location: {
      id: "school",
      name: "School",
      description: "Your everyday school where magical adventures begin",
      type: "School",
      environment: {
        weather: "Clear",
        timeOfDay: "Morning",
        lighting: "Bright",
        temperature: "Mild",
        visibility: "Clear",
        magicalIntensity: 20,
      },
      hazards: [],
      features: [],
      background: "school-bg.jpg",
    },
    story: {
      prologue: undefined,
      chapters: [],
      epilogue: undefined,
      branches: [],
      characters: [],
    },
    isUnlocked: true,
    isCompleted: false,
    isAvailable: true,
    attempts: 0,
    tags: ["daily", "easy", "solo"],
  },
  {
    id: "combat-1",
    name: "Monster Attack",
    description: "A mysterious monster is attacking the city. Stop it before it causes more damage!",
    type: "Story",
    category: "Combat",
    difficulty: "Normal",
    requirements: [
      {
        type: "level",
        value: 2,
        description: "Reach level 2",
        optional: false,
      },
    ],
    objectives: [
      {
        id: "defeat-monster",
        name: "Defeat the monster",
        description: "Use your magical powers to defeat the attacking monster",
        type: "defeat",
        target: { type: "enemy", name: "mysterious monster" },
        condition: { type: "simple", rules: [] },
        progress: 0,
        maxProgress: 1,
        isCompleted: false,
        isOptional: false,
        isHidden: false,
      },
    ],
    rewards: [
      {
        type: "experience",
        item: "experience",
        quantity: 100,
        guaranteed: true,
        probability: 100,
      },
      {
        type: "sparkles",
        item: "sparkles",
        quantity: 50,
        guaranteed: true,
        probability: 100,
      },
      {
        type: "stardust",
        item: "stardust",
        quantity: 10,
        guaranteed: true,
        probability: 100,
      },
    ],
    penalties: [
      {
        type: "failure",
        condition: "Mission failed",
        severity: "moderate",
        effect: {
          type: "resource_loss",
          value: "sparkles:25",
          duration: undefined,
        },
      },
    ],
    timeLimit: 3600, // 1 hour
    location: {
      id: "city",
      name: "Downtown City",
      description: "The bustling city center where monsters sometimes appear",
      type: "City",
      environment: {
        weather: "Clear",
        timeOfDay: "Evening",
        lighting: "Normal",
        temperature: "Mild",
        visibility: "Clear",
        magicalIntensity: 40,
      },
      hazards: [
        {
          type: "creature",
          name: "Monster",
          description: "A dangerous creature attacking civilians",
          severity: "major",
          frequency: "constant",
          effects: [
            {
              type: "damage",
              value: "high",
              duration: undefined,
              condition: undefined,
            },
          ],
          countermeasures: ["Use magical attacks", "Transform to increase power"],
        },
      ],
      features: [],
      background: "city-bg.jpg",
    },
    story: {
      prologue: {
        id: "monster-intro",
        title: "Disturbance in the City",
        text: "Reports of a monster attacking downtown have reached you...",
        dialogue: [],
        choices: [],
        conditions: [],
        effects: [],
        media: undefined,
      },
      chapters: [],
      epilogue: undefined,
      branches: [],
      characters: [],
    },
    isUnlocked: false,
    isCompleted: false,
    isAvailable: false,
    attempts: 0,
    tags: ["combat", "story", "boss"],
  },
];

export const missionTemplates = {
  daily: [
    {
      id: "daily-patrol",
      name: "Daily Patrol",
      type: "Daily" as const,
      category: "Protection" as const,
      difficulty: "Easy" as const,
      baseRewards: [
        {
          type: "experience" as const,
          item: "experience",
          quantity: 25,
          guaranteed: true,
          probability: 100,
        },
      ],
      objectives: [],
      variables: [],
      tags: ["daily", "protection"],
      weight: 1,
      seasons: [],
      requirements: [],
    },
  ],
  weekly: [],
};

export const missionCategories = {
  Combat: "Combat missions involving direct confrontation",
  Rescue: "Save people or magical creatures in distress",
  Investigation: "Solve mysteries and uncover secrets",
  Protection: "Guard locations or people from threats",
  Collection: "Gather items or resources",
  Social: "Interact with characters and build relationships",
  Stealth: "Complete objectives without being detected",
  Puzzle: "Solve puzzles and riddles",
  Escort: "Protect someone while moving to a destination",
  Survival: "Survive in dangerous environments",
  Training: "Practice and improve your skills",
};

export const difficultySettings = {
  Tutorial: { multiplier: 0.5, baseTime: 300 },
  Easy: { multiplier: 1.0, baseTime: 1800 },
  Normal: { multiplier: 1.5, baseTime: 3600 },
  Hard: { multiplier: 2.0, baseTime: 7200 },
  Expert: { multiplier: 2.5, baseTime: 10800 },
  Master: { multiplier: 3.0, baseTime: 14400 },
  Nightmare: { multiplier: 4.0, baseTime: 21600 },
  Impossible: { multiplier: 5.0, baseTime: 28800 },
};